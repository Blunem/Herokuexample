{"version":3,"sources":["components/PersonForm.js","components/DisplayNumbers.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","formValues","onSubmit","name","value","onChange","number","type","DisplayNumbers","data","onClick","map","Filter","baseUrl","comServices","getAll","axios","get","then","response","create","newObject","post","update","id","put","erase","delete","Notification","notification","message","className","style","App","useState","search","setSearch","newName","setNewName","newNumber","setNewNumber","persons","setPersons","setNotification","useEffect","Services","handleChange","e","setFunction","target","preventDefault","personNewObject","personObject","validNumber","validName","window","alert","notValid","personSet","newPerson","lowerPattern","toLowerCase","find","element","isThere","confirm","currentPerson","person","changedPerson","returnedPerson","catch","error","setTimeout","filter","n","concat","pattern","lowCasePattern","user","includes","filteringNames","ReactDOM","render","document","getElementById"],"mappings":"oLAUeA,EATI,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,WACjB,OACI,uBAAMC,SAAYD,EAAWC,SAA7B,UACI,oCAAOD,EAAWE,KAAKA,KAAvB,KAA8B,uBAAOC,MAAQH,EAAWE,KAAKC,MAAOC,SAAWJ,EAAWE,KAAKE,cAC/F,oCAAOJ,EAAWK,OAAOH,KAAzB,KAAgC,uBAAOC,MAAQH,EAAWK,OAAOF,MAAOC,SAAWJ,EAAWK,OAAOD,cACrG,8BAAK,wBAAQE,KAAK,SAAb,uBCKFC,EATQ,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,KAAKC,EAAa,EAAbA,QAC1B,OACI,6BACKD,EAAKE,KAAI,SAAAL,GAAM,OAAK,+BACIA,EAAOH,KADX,KACmBG,EAAOA,OAD1B,KACmC,wBAAQI,QAAS,kBAAIA,EAAQJ,IAA7B,sBADxBA,EAAOH,YCGpCS,EAPA,SAAC,GAAsB,IAArBR,EAAoB,EAApBA,MAAMC,EAAc,EAAdA,SACnB,OACI,+BACI,qDAAuB,uBAAOD,MAAQA,EAAOC,SAAUA,U,gBCH7DQ,EAAS,eAuBAC,EADK,CAACC,OApBN,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASV,SAkBdW,OAfd,SAAAC,GAEb,OADgBL,IAAMM,KAAKT,EAASQ,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASV,SAaNc,OAVtB,SAACC,EAAIH,GAElB,OADgBL,IAAMS,IAAN,UAAaZ,EAAb,YAAwBW,GAAMH,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASV,SAQEiB,MAL/B,SAACF,GAEb,OADgBR,IAAMW,OAAN,UAAgBd,EAAhB,YAA2BW,IAC5BN,MAAK,SAAAC,GAAQ,OAAIA,EAASV,UCL5BmB,G,MAXM,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,aACnB,OAA6B,OAAzBA,EAAaC,QACR,KAIP,qBAAKC,UAAWF,EAAaG,MAA7B,SACGH,EAAaC,YCoHPG,EAvHH,WACV,MAA8BC,mBAAS,IAAvC,mBAAQC,EAAR,KAAgBC,EAAhB,KACA,EAAgCF,mBAAS,mBAAzC,mBAAQG,EAAR,KAAiBC,EAAjB,KACA,EAAoCJ,mBAAS,iBAA7C,mBAAQK,EAAR,KAAmBC,EAAnB,KACA,EAA8BN,mBAAS,IAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAAwCR,mBAAS,CAACJ,QAAQ,KAAKE,MAAM,OAArE,mBAAOH,EAAP,KAAqBc,EAArB,KAMAC,qBAJgB,WACVC,EAAS9B,SACNG,MAAK,SAAAC,GAAQ,OAAIuB,EAAWvB,QAElB,IAEnB,IAuDI2B,EAAe,SAACC,EAAEC,GACtBA,EAAYD,EAAEE,OAAO7C,QAGjBH,EAAa,CACjBC,SA/CkB,SAAC6C,GAEjBA,EAAEG,iBACF,IAAMC,EAAkB,CAAChD,KAAMkC,EAAQ/B,OAAQiC,GAE/C,IAZe,SAACa,GAChB,IAAKC,GAA2B,EAAdC,GAAoB,EAGtC,MAFsB,KAAtBF,EAAajD,KAAcoD,OAAOC,MAAP,sCAAqDF,GAAY,EACpE,KAAxBF,EAAa9C,OAAgBiD,OAAOC,MAAP,wCAAuDH,GAAc,IACzFC,GAAaD,GAQnBI,CAASN,GAIZ,GAtBc,SAACO,EAAWC,GAC1B,IAAMC,EAAeD,EAAUxD,KAAK0D,cAEpC,OADeH,EAAUI,MAAK,SAAAC,GAAO,OAAKA,EAAQ5D,KAAK0D,gBAAkBD,KAmBnDI,CAAQvB,EAAQU,IAEpC,GAAGI,OAAOU,QAAP,UAAkBd,EAAgBhD,KAAlC,+EAAoH,CACrH,IAAM+D,EAAgBzB,EAAQqB,MAAK,SAAAK,GAAM,OAAIA,EAAOhE,OAASkC,KACvD+B,EAAa,2BAAQF,GAAR,IAAuB5D,OAAQ6C,EAAgB7C,SAClEuC,EAAStB,OAAO6C,EAAc5C,GAAG4C,GAC9BlD,MAAK,SAAAmD,GAAc,OAAI3B,EAAWD,EAAQ9B,KAAI,SAAAwD,GAAM,OAAIA,EAAO3C,KAAO6C,EAAe7C,GAAI2C,EAASE,SAClGC,OAAM,SAAAC,GACL,IAAMzC,EAAU,CACdA,QAAQ,eAAD,OAAgBoC,EAAc/D,KAA9B,qCACP6B,MAAO,SAETW,EAAgBb,GAChB0C,YAAW,WAAO7B,EAAgB,CAACb,QAAS,KAAME,MAAM,SAAS,KACjEU,EAAWD,EAAQgC,QAAO,SAAAC,GAAC,OAAIA,EAAElD,KAAO4C,EAAc5C,gBAK5DqB,EAASzB,OAAO+B,GAAiBjC,MAAK,SAAAC,GACpCuB,EAAWD,EAAQkC,OAAOxD,IAC1B,IAAMW,EAAU,CACdA,QAAQ,GAAD,OAAIX,EAAShB,KAAb,cACP6B,MAAO,WAETW,EAAgBb,GAChB0C,YAAW,WAAO7B,EAAgB,CAACb,QAAS,KAAME,MAAM,SAAS,QAEnEM,EAAW,IACXE,EAAa,KAWjBrC,KAAM,CACFA,KAAK,OACLC,MAAOiC,EACPhC,SAAU,SAAC0C,GAAD,OAAMD,EAAaC,EAAET,KAEnChC,OAAQ,CACJH,KAAK,SACLC,MAAOmC,EACPlC,SAAU,SAAC0C,GAAD,OAAMD,EAAaC,EAAEP,MAwBrC,OACE,gCACE,2CACA,cAAC,EAAD,CAAcX,aAAgBA,IAC9B,cAAC,EAAD,CAAQzB,MAAO+B,EAAQ9B,SAAW,SAAC0C,GAAD,OAAMD,EAAaC,EAAEX,MACvD,2CACA,cAAC,EAAD,CAAYnC,WAAYA,IACxB,yCACA,cAAC,EAAD,CAAgBQ,KA5BG,SAACA,EAAMmE,GAC5B,IAAMC,EAAiBD,EAAQf,cAC/B,MAA0B,KAAnBgB,EAAwBpE,EAAOA,EAAKgE,QAAO,SAAAK,GAAI,OAAIA,EAAK3E,KAAK0D,cAAckB,SAASF,MA0BlEG,CAAevC,EAAQN,GAASzB,QAvBrC,SAACyD,GACfZ,OAAOU,QAAP,iBAAyBE,EAAOhE,KAAhC,OACA0C,EAASnB,MAAMyC,EAAO3C,IAAIN,KAAKwB,EAAWD,EAAQgC,QAAO,SAAAC,GAAC,OAAIA,EAAElD,KAAO2C,EAAO3C,QACzE8C,OAAM,SAAAC,GACL,IAAMzC,EAAU,CACdA,QAAQ,cAAD,OAAeqC,EAAOhE,KAAtB,oCACP6B,MAAO,SAETW,EAAgBb,GAChB0C,YAAW,WAAO7B,EAAgB,CAACb,QAAS,KAAME,MAAM,SAAS,KACjEU,EAAWD,EAAQgC,QAAO,SAAAC,GAAC,OAAIA,EAAElD,KAAO2C,EAAO3C,iBCxG7DyD,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.6bafec67.chunk.js","sourcesContent":["import React from 'react'\nconst PersonForm = ({formValues}) => {\n    return(\n        <form onSubmit = {formValues.onSubmit}>\n            <div> {formValues.name.name}: <input value= {formValues.name.value} onChange ={formValues.name.onChange}/></div>\n            <div> {formValues.number.name}: <input value= {formValues.number.value} onChange ={formValues.number.onChange}/></div>\n            <div><button type=\"submit\">add</button></div>\n      </form>\n    )\n}\nexport default PersonForm","\nimport React from 'react'\nconst DisplayNumbers = ({data,onClick}) => {\n    return(\n        <ul>\n            {data.map(number => (<li key = {number.name}>\n                                    {number.name} ({number.number}) <button onClick={()=>onClick(number)}>delete</button>\n                                </li>))}\n        </ul>\n    )\n}\nexport default DisplayNumbers","import React from 'react'\nconst Filter = ({value,onChange}) => {\n    return(\n        <form>\n            <div>Filter shown with <input value ={value} onChange={onChange}></input></div>\n        </form>\n    )\n}\nexport default Filter","import axios from 'axios'\nconst baseUrl ='/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst erase = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst comServices = {getAll, create, update, erase}\nexport default comServices","import React from 'react'\nimport '../index.css'  \n\n\nconst Notification = ({notification}) => {\n    if (notification.message === null) {\n      return null\n    }\n  \n    return (\n      <div className={notification.style}>\n        {notification.message}\n      </div>\n    )\n  }\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport DisplayNumbers from './components/DisplayNumbers' \nimport Filter from './components/Filter'\nimport Services from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ search, setSearch ] = useState('')\n  const [ newName, setNewName ] = useState('Omar Valenzuela')\n  const [ newNumber, setNewNumber ] = useState('668-856-12-98')\n  const [persons, setPersons] = useState([])\n  const [notification, setNotification] = useState({message:null,style:null})\n\n  const getData = () => {\n        Services.getAll()\n          .then(response => setPersons(response))\n  }\n  useEffect(getData, [])\n    \n  const isThere = (personSet, newPerson) => {\n    const lowerPattern = newPerson.name.toLowerCase()\n    const result = personSet.find(element =>  element.name.toLowerCase() === lowerPattern)\n    return result\n  }\n\n  const notValid = (personObject) => {\n    let [validNumber, validName] = [false,false]\n    personObject.name === ''?  window.alert(`the name field has been left empty`) : validName = true\n    personObject.number === ''?  window.alert(`the number field has been left empty`) : validNumber = true\n    return !(validName && validNumber)\n  }\n\n  const addNumber = (e) => {\n\n    e.preventDefault()\n    const personNewObject = {name: newName,number: newNumber}\n\n    if(notValid(personNewObject))\n      return\n\n    const repeatedPerson= isThere(persons,personNewObject)\n    if (repeatedPerson){\n      if(window.confirm(`${personNewObject.name} is already added to the phonebook, replace the old number with a new one?`)){\n        const currentPerson = persons.find(person => person.name === newName)\n        const changedPerson = { ...currentPerson, number: personNewObject.number}\n        Services.update(changedPerson.id,changedPerson)\n          .then(returnedPerson => setPersons(persons.map(person => person.id !== returnedPerson.id? person : returnedPerson)))\n          .catch(error => {\n            const message = {\n              message:`the person '${currentPerson.name}' was already deleted from server`,\n              style: \"error\"\n            }\n            setNotification(message)\n            setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n            setPersons(persons.filter(n => n.id !== changedPerson.id))\n          })\n      }\n    }\n    else {\n      Services.create(personNewObject).then(response => {\n        setPersons(persons.concat(response))\n        const message = {\n          message:`${response.name} was saved`,\n          style: \"success\"\n        }\n        setNotification(message)\n        setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n      })\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n   \n\nconst handleChange = (e,setFunction) => {\n  setFunction(e.target.value)\n}\n\nconst formValues = {\n  onSubmit: addNumber,\n  name: {\n      name:\"name\",\n      value: newName,\n      onChange: (e)=> handleChange(e,setNewName),\n    },\n  number: {\n      name:\"number\",\n      value: newNumber,\n      onChange: (e)=> handleChange(e,setNewNumber),\n    }\n}\n\nconst filteringNames = (data, pattern) => {\n  const lowCasePattern = pattern.toLowerCase()\n  return lowCasePattern === '' ? data : data.filter(user => user.name.toLowerCase().includes(lowCasePattern))\n}\n\nconst eraseElement  = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)){    \n        Services.erase(person.id).then(setPersons(persons.filter(n => n.id !== person.id)))\n            .catch(error => {\n              const message = {\n                message:`The person ${person.name} was already deleted from server`,\n                style: \"error\"\n              }\n              setNotification(message)\n              setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n              setPersons(persons.filter(n => n.id !== person.id))\n            }     \n        )\n    }\n}\nreturn (\n  <div>\n    <h2>Phonebook</h2>\n    <Notification notification = {notification}/>\n    <Filter value={search} onChange= {(e)=> handleChange(e,setSearch)}/>\n    <h3>Add a new</h3>\n    <PersonForm formValues={formValues}/>\n    <h3>Numbers</h3>\n    <DisplayNumbers data= {filteringNames(persons,search)} onClick ={eraseElement}/>\n  </div>\n)\n}\n\nexport default App","\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root')\n);\n"],"sourceRoot":""}
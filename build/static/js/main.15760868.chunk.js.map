{"version":3,"sources":["components/PersonForm.js","components/DisplayNumbers.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","formValues","onSubmit","name","value","onChange","number","type","DisplayNumbers","data","onClick","map","Filter","baseUrl","comServices","getAll","axios","get","then","response","create","newObject","post","update","id","put","erase","delete","Notification","notification","message","className","style","App","useState","search","setSearch","newName","setNewName","newNumber","setNewNumber","persons","setPersons","setNotification","useEffect","Services","handleChange","e","setFunction","target","preventDefault","personNewObject","personObject","validNumber","validName","window","alert","notValid","repeated","personSet","newPerson","lowerPattern","toLowerCase","find","element","isThere","confirm","updatedContact","returnedPerson","person","setTimeout","catch","error","concat","pattern","lowCasePattern","filter","user","includes","filteringNames","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15760868.chunk.js","sourcesContent":["import React from 'react'\nconst PersonForm = ({formValues}) => {\n    return(\n        <form onSubmit = {formValues.onSubmit}>\n            <div> {formValues.name.name}: <input value= {formValues.name.value} onChange ={formValues.name.onChange}/></div>\n            <div> {formValues.number.name}: <input value= {formValues.number.value} onChange ={formValues.number.onChange}/></div>\n            <div><button type=\"submit\">add</button></div>\n      </form>\n    )\n}\nexport default PersonForm","\nimport React from 'react'\nconst DisplayNumbers = ({data,onClick}) => {\n    return(\n        <ul>\n            {data.map(number => (<li key = {number.name}>\n                                    {number.name} ({number.number}) <button onClick={()=>onClick(number)}>delete</button>\n                                </li>))}\n        </ul>\n    )\n}\nexport default DisplayNumbers","import React from 'react'\nconst Filter = ({value,onChange}) => {\n    return(\n        <form>\n            <div>Filter shown with <input value ={value} onChange={onChange}></input></div>\n        </form>\n    )\n}\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst erase = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst comServices = {getAll, create, update, erase}\nexport default comServices","import React from 'react'\nimport '../index.css'  \n\n\nconst Notification = ({notification}) => {\n    if (notification.message === null) {\n      return null\n    }\n  \n    return (\n      <div className={notification.style}>\n        {notification.message}\n      </div>\n    )\n  }\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport DisplayNumbers from './components/DisplayNumbers' \nimport Filter from './components/Filter'\nimport Services from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ search, setSearch ] = useState('')\n  const [ newName, setNewName ] = useState('Omar Vzla')\n  const [ newNumber, setNewNumber ] = useState('566-454-23-55')\n  const [persons, setPersons] = useState([])\n  const [notification, setNotification] = useState({message:null,style:null})\n\n  const getData = () => {\n        Services.getAll()\n          .then(response => setPersons(response))\n  }\n  useEffect(getData, [])\n    \n  const isThere = (personSet, newPerson) => {\n    const lowerPattern = newPerson.name.toLowerCase()\n    const result = personSet.find(element =>  element.name.toLowerCase() === lowerPattern)\n    return result\n  }\n\n  const notValid = (personObject) => {\n    let [validNumber, validName] = [false,false]\n    personObject.name === ''?  window.alert(`the name field has been left empty`) : validName = true\n    personObject.number === ''?  window.alert(`the number field has been left empty`) : validNumber = true\n    return !(validName && validNumber)\n  }\n\n  const addNumber = (e) => {\n\n    e.preventDefault()\n    const personNewObject = {name: newName,number: newNumber}\n\n    if(notValid(personNewObject))\n      return\n\n    const repeated= isThere(persons,personNewObject)\n\n    if (repeated){\n      if(window.confirm(`${personNewObject.name} is already added to the phonebook, replace the old number with a new one?`)){\n        const updatedContact = {...repeated, number: personNewObject.number}\n        Services.update(updatedContact.id,updatedContact)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== returnedPerson.id? person : returnedPerson))\n            setNotification({\n              message:`${returnedPerson.name} was updated successfully`, \n              style: \"success\"\n            })\n            setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n          })\n          .catch(error => {\n            setNotification({\n              message:error.response.data.error,\n              style: \"error\"\n            })\n            setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n          })\n      }\n    }\n    else {\n      Services.create(personNewObject).then(response => {\n        setPersons(persons.concat(response))\n        const message = {\n          message:`${response.name} was saved`,\n          style: \"success\"\n        }\n        setNotification(message)\n        setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n      })\n      .catch(error => {\n        \n        const message = {\n          message:error.response.data.error,\n          style: \"error\"\n        }\n        setNotification(message)\n        setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n       \n      })\n\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n   \nconst handleChange = (e,setFunction) => {\n  setFunction(e.target.value)\n}\n\nconst formValues = {\n  onSubmit: addNumber,\n  name: {\n      name:\"name\",\n      value: newName,\n      onChange: (e)=> handleChange(e,setNewName),\n    },\n  number: {\n      name:\"number\",\n      value: newNumber,\n      onChange: (e)=> handleChange(e,setNewNumber),\n    }\n}\n\nconst filteringNames = (data, pattern) => {\n  const lowCasePattern = pattern.toLowerCase()\n  return lowCasePattern === '' ? data : data.filter(user => user.name.toLowerCase().includes(lowCasePattern))\n}\n\nconst eraseElement  = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)){    \n        Services.erase(person.id).then(setPersons(persons.filter(n => n.id !== person.id)))\n            .catch(error => {\n              const message = {\n                message:`The person ${person.name} was already deleted from server`,\n                style: \"error\"\n              }\n              setNotification(message)\n              setTimeout(() => {setNotification({message: null, style:null})}, 5000)\n              setPersons(persons.filter(n => n.id !== person.id))\n            }     \n        )\n    }\n}\nreturn (\n  <div>\n    <h2>Phonebook</h2>\n    <Notification notification = {notification}/>\n    <Filter value={search} onChange= {(e)=> handleChange(e,setSearch)}/>\n    <h3>Add a new</h3>\n    <PersonForm formValues={formValues}/>\n    <h3>Numbers</h3>\n    <DisplayNumbers data= {filteringNames(persons,search)} onClick ={eraseElement}/>\n  </div>\n)\n}\n\nexport default App","\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root')\n);\n"],"sourceRoot":""}